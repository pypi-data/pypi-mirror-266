"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[251,392],{4001:(e,t,r)=>{r.r(t),r.d(t,{DatalayerConfiguration:()=>oe,IDatalayer:()=>le,default:()=>ue});var i=r(6653),n=r(6129),a=r(7370),s=r(8826),l=r(7930);const o=new(r(1339).zZ)({name:"@datalayer/icons:datalayer-green-padding",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" viewBox="0 0 72 72">\n  <path fill="#2ecc71" stroke-width="2.9" d="M7 7h58v11.6H7zm0 0"/>\n  <path fill="#1abc9c" stroke-width="2.9" d="M7 30.2h58v11.6H7zm0 0"/>\n  <path fill="#16a085" stroke-width="2.9" d="M7 53.4h58V65H7zm0 0"/>\n</svg>\n'});var d=r(1865),c=r(6274);async function h(e="",t={}){const r=c.ServerConnection.makeSettings(),i=d.URLExt.join(r.baseUrl,"datalayer",e);let n;try{n=await c.ServerConnection.makeRequest(i,t,r)}catch(e){throw new c.ServerConnection.NetworkError(e)}let a=await n.text();if(a.length>0)try{a=JSON.parse(a)}catch(e){console.log("Not a JSON response body.",n)}if(!n.ok)throw new c.ServerConnection.ResponseError(n,a.message||a);return a}var u=r(4512),g=r(6029),m=r(9689),p=r(9606),f=r(2126),x=r(1726),j=r(5652),y=r(1809),v=r(1048),_=r(2005),b=r(5730);const F={small:16,medium:32,large:64},w=g.forwardRef((function({title:e,titleId:t,size:r,colored:i,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 243.75 243.75",fill:i?"currentColor":["#fff","#fffff","white","#FFF","#FFFFFF"].includes("currentColor")?"white":"currentColor","aria-hidden":"true",width:r?"string"==typeof r?F[r]:r:"16px",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("g",{fill:i?"#fff":["#fff","#fffff","white","#FFF","#FFFFFF"].includes("#fff")?"white":"currentColor",strokeWidth:2.928,transform:"translate(0 -308.268)"},g.createElement("circle",{cx:121.875,cy:430.143,r:120.411,stroke:"#000"}),g.createElement("path",{fillRule:"evenodd",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M119.675 477.588l.253-140.166c-73.532 5.11-86.696 84.242-28.25 114.7l.61 25.34z"}),g.createElement("path",{fillRule:"evenodd",stroke:"#000",d:"M120.07 482.652H93.813c-2.945 4.667-3.575 8.04 2.748 13.127-6.62.865-6.378 8.548-2.9 10.686-4.242 1.556-5.282 8.727 6.869 7.937l1.625 5.486c.733 2.113 1.746 2.545 2.76 2.973l10.458-.086c1.992-.72 4.299-2.105 4.39-5.015z"}),g.createElement("path",{fillRule:"evenodd",stroke:"#f75c59",strokeLinecap:"round",strokeLinejoin:"round",d:"M124.291 477.462l-.469-139.95c73.532 5.11 86.696 84.458 28.25 114.916l-.61 25.34z"}),g.createElement("path",{fillRule:"evenodd",stroke:"#f75c59",d:"M125.32 482.957l-.306 32.361c1.317 11.059 11.072 8.629 10.99-.61v-31.751zM139.957 482.957l-.305 32.361c1.317 11.059 11.072 8.629 10.99-.61v-31.751z"}),g.createElement("path",{fillRule:"evenodd",stroke:"#f8d05b",d:"M112.412 477.238l-16.948-73.934c-4.23-19.168-16.974-14.783-11.444-.557 6.267 10.896 28.39 21.763 33.582 6.106-4.523-5.743-6.628-12.59 1.333-16.65"}),g.createElement("path",{fillRule:"evenodd",stroke:"#f75c59",strokeLinejoin:"round",d:"M131.627 399.814c1.778-4.471 12.628-9.482 19.487-14.062 7.117 3.213 17.741 13.145 12.804 25.555-1.265 4.901-28.05 4.544-30.224 2.137-4.481-4.606-3.115-10.024-2.067-13.63zM128.198 428.251c-.91 7.576-.577 13.909-.763 20.76 3.425.788 7.262.337 11.082-.062-2.75-6.95-5.704-13.748-10.319-20.698z"})))})),C=e=>{const{version:t}=e,[r,i]=(0,g.useState)(!1);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(y.Z,{as:"h2",children:["Îž Datalayer",(0,u.jsx)(v.Z,{sx:{marginLeft:1},children:t})]}),(0,u.jsx)(f.Z,{children:(0,u.jsx)(_.Z,{children:"Datalayer provides features to other Datalayer packages. It also contains base application classes and configuration inherited by other projects."})}),(0,u.jsx)(f.Z,{mt:3,children:r?(0,u.jsx)(w,{size:300,onClick:e=>i(!1)}):(0,u.jsx)("img",{src:"https://assets.datalayer.tech/releases/datalayer-0.3.0-black-snake_1024.png",onClick:e=>i(!0),style:{width:"100%"}})}),(0,u.jsx)(f.Z,{children:(0,u.jsx)(b.Z,{href:"https://datalayer.tech/docs/releases/0.3.0-black-snake",target:"_blank",children:(0,u.jsx)(_.Z,{as:"h4",children:"Datalayer 0.3.0 Black Snake Release"})})}),(0,u.jsx)(f.Z,{children:(0,u.jsx)(b.Z,{href:"https://github.com/datalayer/datalayer",target:"_blank",children:(0,u.jsx)(_.Z,{as:"h4",children:"Source code"})})})]})};var T=r(4834),k=r(6459),S=r(8289),Z=r(4648),I=r(5762),N=r(2427),L=r(9009),E=r(2371),D=r(2146),M=r(5977),$=r(2838);class A{constructor(e){this._plugins=e.plugins,this.update()}_asCategory(e){const t=e.split(":");return t.length>1?t[0]:e}_addNode(e){const t=this._asCategory(e);this._nodes.set(e,{id:e,name:e,category:t}),this._addCategory(t)}_addEdge(e,t){this._edges.push({source:e,target:t})}_addCategory(e){this._categories.set(e,{name:e})}update(){const{plugins:e,filter:t,requires:r,optional:i}=this;e.forEach(((e,n)=>{const a=e=>""===t||!!e.toLowerCase().match(t.toLowerCase());let s=n;e.provides&&(s=e.provides.name),a(s)&&this._addNode(s),r&&(e.requires??[]).forEach((e=>{(a(e.name)||a(s))&&(this._addNode(e.name),this._addNode(s),this._addEdge(s,e.name))})),i&&(e.optional??[]).forEach((e=>{(a(e.name)||a(s))&&(this._addNode(e.name),this._addNode(s),this._addEdge(s,e.name))}))}))}get plugins(){return this._plugins}get filter(){return this._filter}set filter(e){this._filter=e}get requires(){return this._requires}set requires(e){this._requires=e}get optional(){return this._optional}set optional(e){this._optional=e}get nodes(){return Array.from(this._nodes.values()).sort(((e,t)=>e.id.localeCompare(t.id)))}get edges(){return this._edges}get categories(){return Array.from(this._categories.values()).sort(((e,t)=>e.name.localeCompare(t.name)))}_plugins;_nodes=new Map;_edges=new Array;_categories=new Map;_filter="";_requires=!0;_optional=!0}S.D([M.N,I.N,N.N,L.N,E.N,D.N]);const R=e=>{const{jupyterFrontend:t}=e,[r,i]=(0,g.useState)(void 0);return(0,g.useEffect)((()=>{const e=t._plugins,r=new A({plugins:e}),n={showLoading:!0,tooltip:{},legend:[{orient:"vertical",x:"left",right:10,data:r.categories.map((function(e){return e.name}))}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"JupyterLab Plugins",type:"graph",layout:"circular",center:["30%","45%"],circular:{rotateLabel:!0},data:r.nodes,links:r.edges,categories:r.categories,roam:!0,label:{position:"right",formatter:"{b}"},lineStyle:{color:"source",curveness:.3}}]};i(n)}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.m,{children:(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"Plugins"})})}),r&&(0,u.jsx)($.Z,{echarts:Z,option:r,style:{height:"calc(100vh - 200px)"},notMerge:!0,lazyUpdate:!0})]})};var z=r(8566),J=r(4025),P=r(6419);class W{_fileType;constructor(e){this._fileType=e}get id(){return this._fileType.name}get name(){return this._fileType.name}get displayName(){return this._fileType.displayName}get fileFormat(){return this._fileType.fileFormat}get icon(){return this._fileType.icon}get extensions(){return this._fileType.extensions}get contentType(){return this._fileType.contentType()}get mimeTypes(){return this._fileType.mimeTypes()}get pattern(){return this._fileType.pattern()}get iconClass(){return this._fileType.iconClass()}get iconLabel(){return this._fileType.iconLabel()}}const V=e=>{const{jupyterFrontend:t}=e,[r,i]=(0,g.useState)();return(0,g.useEffect)((()=>{if(t){const e=Array.from(t.docRegistry.fileTypes()).map((e=>new W(e)));i(e)}}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.m,{children:(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"File Types"})})}),r&&(0,u.jsxs)(J.i.Container,{children:[(0,u.jsx)(J.i.Title,{as:"h2",id:"file-types",children:"File types"}),(0,u.jsx)(J.i.Subtitle,{as:"p",id:"file-types-subtitle",children:"List of registered file types."}),(0,u.jsx)(P.w,{"aria-labelledby":"file-types","aria-describedby":"file-types-subtitle",data:r,columns:[{header:"Icon",field:"icon",renderCell:e=>e.icon?(0,u.jsx)(f.Z,{sx:{width:16,height:16},children:(0,u.jsx)(e.icon.react,{})}):(0,u.jsx)(u.Fragment,{})},{header:"Name",field:"name",renderCell:e=>e.name},{header:"Display Name",field:"displayName",renderCell:e=>(0,u.jsx)(_.Z,{children:String(e.displayName)})},{header:"Extensions",field:"extensions",renderCell:e=>(0,u.jsx)(z.Z,{children:e.extensions.map((e=>(0,u.jsx)(v.Z,{children:e})))})},{header:"File Format",field:"fileFormat",renderCell:e=>(0,u.jsx)(v.Z,{variant:"primary",children:String(e.fileFormat)})}]})]})]})},q=e=>{const{jupyterFrontend:t}=e,[r,i]=(0,g.useState)(),[n,a]=(0,g.useState)();return(0,g.useEffect)((()=>{if(t){const e=t.serviceManager.contents._defaultDrive;i({id:-1,...e});const r=Array.from(t.serviceManager.contents._additionalDrives.values());a(r.map(((e,t)=>({id:t,...e,name:e.name}))))}}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.m,{children:(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"Drives"})})}),(0,u.jsxs)(f.Z,{children:[(0,u.jsx)("h3",{children:"Default Drive"}),(0,u.jsx)(_.Z,{children:r?.name}),(0,u.jsx)(v.Z,{style:{marginLeft:3},children:r?.sharedModelFactory?.collaborative?"collaborative":"non collaborative"})]}),n&&(0,u.jsxs)(J.i.Container,{children:[(0,u.jsx)(J.i.Title,{as:"h2",id:"repositories",children:"Additional Drives"}),(0,u.jsx)(J.i.Subtitle,{as:"p",id:"repositories-subtitle",children:"List of registered drives"}),(0,u.jsx)(P.w,{"aria-labelledby":"file-types","aria-describedby":"file-types-subtitle",data:n,columns:[{header:"Name",field:"name",renderCell:e=>(0,u.jsx)(_.Z,{children:e.name})},{header:"Shared Model Factory",field:"sharedModelFactory",renderCell:e=>(0,u.jsx)(v.Z,{children:e.sharedModelFactory?.collaborative?"collaborative":"non collaborative"})}]})]})]})};class O{_modelFactory;constructor(e){this._modelFactory=e}get id(){return this._modelFactory.name}get name(){return this._modelFactory.name}get contentType(){return this._modelFactory.contentType}get collaborative(){return this._modelFactory.collaborative}get isDisposed(){return this._modelFactory.isDisposed}get fileFormat(){return this._modelFactory.fileFormat}}const U=e=>{const{jupyterFrontend:t}=e,[r,i]=(0,g.useState)();return(0,g.useEffect)((()=>{if(t){const e=Array.from(t.docRegistry.modelFactories()).map((e=>new O(e)));i(e)}}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.m,{children:(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"Models"})})}),r&&(0,u.jsxs)(J.i.Container,{children:[(0,u.jsx)(J.i.Title,{as:"h2",id:"model-factories",children:"Model Factories"}),(0,u.jsx)(J.i.Subtitle,{as:"p",id:"model-factories-subtitle",children:"List of registered model factories."}),(0,u.jsx)(P.w,{"aria-labelledby":"model-factories","aria-describedby":"model-factories-subtitle",data:r,columns:[{header:"Name",field:"name",renderCell:e=>(0,u.jsx)(_.Z,{children:e.name})},{header:"Content Type",field:"contentType",renderCell:e=>(0,u.jsx)(v.Z,{children:e.contentType})},{header:"Collaborative",field:"collaborative",renderCell:e=>(0,u.jsx)(_.Z,{children:String(e.collaborative)})},{header:"File Format",field:"fileFormat",renderCell:e=>(0,u.jsx)(v.Z,{variant:"primary",children:String(e.fileFormat)})}]})]})]})};class H{_widgetFactory;constructor(e){this._widgetFactory=e}get id(){return this._widgetFactory.name}get name(){return this._widgetFactory.name}get modelName(){return this._widgetFactory.modelName}get label(){return this._widgetFactory.label}get fileTypes(){return this._widgetFactory.fileTypes}get isDisposed(){return this._widgetFactory.isDisposed}get widgetCreated(){return this._widgetFactory.widgetCreated}}const Y=e=>{const{jupyterFrontend:t}=e,[r,i]=(0,g.useState)();return(0,g.useEffect)((()=>{if(t){const e=Array.from(t.docRegistry.widgetFactories()).map((e=>new H(e)));i(e)}}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.m,{children:(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"Widgets"})})}),r&&(0,u.jsxs)(J.i.Container,{children:[(0,u.jsx)(J.i.Title,{as:"h2",id:"widget-factories",children:"Widget Factories"}),(0,u.jsx)(J.i.Subtitle,{as:"p",id:"widget-factories-subtitle",children:"List of registered widgets factories."}),(0,u.jsx)(P.w,{"aria-labelledby":"file-types","aria-describedby":"file-types-subtitle",data:r,columns:[{header:"Name",field:"name",renderCell:e=>(0,u.jsx)(_.Z,{children:e.name})},{header:"Label",field:"label",renderCell:e=>(0,u.jsx)(_.Z,{children:e.label})},{header:"Model Name",field:"modelName",renderCell:e=>(0,u.jsx)(v.Z,{children:e.modelName})},{header:"File Types",field:"fileTypes",renderCell:e=>(0,u.jsx)(z.Z,{children:e.fileTypes.map((e=>(0,u.jsx)(v.Z,{variant:"primary",children:e})))})}]})]})]})};var B=r(4915);class G{_widgetName;_extension;constructor(e,t){this._widgetName=e,this._extension=t}get id(){return this.widgetName}get widgetName(){return this._widgetName}get extension(){return this._extension}}const K=e=>{const{widgetName:t,extensions:r}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f.Z,{children:(0,u.jsx)(B.Z,{sx:{fontSize:2,mb:2},children:t})}),r.map((e=>(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(f.Z,{children:(0,u.jsx)(v.Z,{children:e.extension.constructor.name})})})))]})},Q=e=>{const{jupyterFrontend:t}=e,[r,i]=(0,g.useState)();return(0,g.useEffect)((()=>{if(t){const e=t.docRegistry._extenders,r=new Map;Object.keys(e).forEach((t=>{const i=e[t].map((e=>new G(t,e)));r.set(t,i)})),i(r)}}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.m,{children:(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"Widget Extensions"})})}),r&&Array.from(r.entries()).map((e=>{const[t,r]=e;return(0,u.jsx)(K,{widgetName:t,extensions:r})}))]})},X=e=>(0,u.jsx)(f.Z,{children:(0,u.jsx)(k.m,{children:(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"Settings"})})})}),ee=e=>(0,u.jsx)(f.Z,{children:(0,u.jsx)(k.m,{children:(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"IPyWidgets"})})})}),te=e=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(k.m,{children:[(0,u.jsx)(k.m.TitleArea,{children:(0,u.jsx)(k.m.Title,{children:"Server"})}),(0,u.jsx)(k.m.Navigation,{children:(0,u.jsxs)(x.J,{"aria-label":"Server",children:[(0,u.jsx)(x.J.Item,{icon:j.PlusIcon,counter:"12","aria-current":"page",children:"Extensions"}),(0,u.jsx)(x.J.Item,{counter:3,icon:j.SettingsIcon,children:"Settings"})]})})]})});var re=r(3513);const ie=e=>{const{jupyterFrontend:t}=e,{tab:r,setTab:i}=(0,re.ZP)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(f.Z,{sx:{display:"flex"},children:[(0,u.jsx)(f.Z,{children:(0,u.jsxs)(T.$,{sx:{"> *":{paddingTop:"0px"}},children:[(0,u.jsxs)(T.$.Item,{"aria-current":0===r?"page":void 0,onClick:e=>i(0),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.NetworkIcon,{})}),"Plugins"]}),(0,u.jsxs)(T.$.Item,{"aria-current":.1===r?"page":void 0,onClick:e=>i(.1),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.FileIcon,{})}),"File Types"]}),(0,u.jsxs)(T.$.Item,{"aria-current":.2===r?"page":void 0,onClick:e=>i(.2),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.ShuffleIcon,{})}),"Models"]}),(0,u.jsxs)(T.$.Item,{"aria-current":.3===r?"page":void 0,onClick:e=>i(.3),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.HardDriveIcon,{colored:!0})}),"Drives"]}),(0,u.jsxs)(T.$.Item,{"aria-current":.4===r?"page":void 0,onClick:e=>i(.4),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.WidgetsIcon,{})}),"Widgets"]}),(0,u.jsxs)(T.$.Item,{"aria-current":.5===r?"page":void 0,onClick:e=>i(.5),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.PlusIcon,{})}),"Widget Extensions"]}),(0,u.jsxs)(T.$.Item,{"aria-current":.6===r?"page":void 0,onClick:e=>i(.6),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.IpyWidgetsIcon,{})}),"IPyWidgets"]}),(0,u.jsxs)(T.$.Item,{"aria-current":.7===r?"page":void 0,onClick:e=>i(.7),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.SettingsIcon,{})}),"Settings"]}),(0,u.jsxs)(T.$.Item,{"aria-current":.8===r?"page":void 0,onClick:e=>i(.8),children:[(0,u.jsx)(T.$.LeadingVisual,{children:(0,u.jsx)(j.JupyterServerIcon,{})}),"Server"]})]})}),(0,u.jsxs)(f.Z,{ml:3,sx:{width:"100%"},children:[0===r&&(0,u.jsx)(R,{jupyterFrontend:t}),.1===r&&(0,u.jsx)(V,{jupyterFrontend:t}),.2===r&&(0,u.jsx)(U,{jupyterFrontend:t}),.3===r&&(0,u.jsx)(q,{jupyterFrontend:t}),.4===r&&(0,u.jsx)(Y,{jupyterFrontend:t}),.5===r&&(0,u.jsx)(Q,{jupyterFrontend:t}),.6===r&&(0,u.jsx)(ee,{jupyterFrontend:t}),.7===r&&(0,u.jsx)(X,{jupyterFrontend:t}),.8===r&&(0,u.jsx)(te,{jupyterFrontend:t})]})]})})},ne=e=>{const{jupyterFrontend:t}=e,{tab:r,setTab:i}=(0,re.ZP)(),n=Math.floor(r),[a,s]=(0,g.useState)("");return(0,g.useEffect)((()=>{h("config").then((e=>{s(e.version)})).catch((e=>{console.error(`Error while accessing the jupyter server datalayer extension.\n${e}`)}))})),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(m.f6,{children:(0,u.jsx)(p.Z,{children:(0,u.jsxs)(f.Z,{children:[(0,u.jsx)(f.Z,{children:(0,u.jsxs)(x.J,{"aria-label":"datalayer",children:[(0,u.jsx)(x.J.Item,{"aria-label":"jupyterlab","aria-current":0===n?"page":void 0,icon:()=>(0,u.jsx)(j.JupyterLabIcon,{colored:!0}),onSelect:e=>{e.preventDefault(),i(0)},children:"JupyterLab"}),(0,u.jsx)(x.J.Item,{"aria-label":"about","aria-current":1===n?"page":void 0,icon:()=>(0,u.jsx)(j.DatalayerGreenPaddingIcon,{colored:!0}),onSelect:e=>{e.preventDefault(),i(1)},children:"About"})]})}),(0,u.jsxs)(f.Z,{m:3,children:[0===n&&t&&(0,u.jsx)(ie,{jupyterFrontend:t}),1===n&&(0,u.jsx)(C,{version:a})]})]})})})})};class ae extends n.ReactWidget{_app;constructor(e){super(),this._app=e,this.addClass("dla-Container")}render(){return(0,u.jsx)(ne,{jupyterFrontend:this._app})}}var se=r(4901);const le=new l.Token("@datalayer/core:plugin");class oe{_configuration;_configurationChanged;constructor(){this._configurationChanged=new se.Signal(this)}set configuration(e){this._configuration=e,this._configurationChanged.emit(e)}get configuration(){return this._configuration}get configurationChanged(){return this._configurationChanged}}var de;let ce;!function(e){e.create="datalayer:create-datalayer-widget"}(de||(de={}));const he={id:"@datalayer/core:plugin",autoStart:!0,requires:[n.ICommandPalette],optional:[a.ISettingRegistry,s.ILauncher,i.ILayoutRestorer],provides:le,deactivate:(e,t,r,i,n)=>{ce.forEach((e=>e.dispose())),console.log(`${he.id} is deactivated`)},activate:(e,t,r,i,a)=>{const s=new l.PromiseDelegate,d=Object.freeze({configuration:new oe,ready:s.promise});return c(d.configuration.configuration),d.configuration.configurationChanged.connect(((e,t)=>{c(t)})),h("config").then((l=>{console.log("Received Datalayer configuration",l),re.hY.getState().setVersion(l.version);const c={apiServerUrl:l.settings.api_server_url,launcher:l.settings.launcher,whiteLabel:l.settings.white_label};if(d.configuration.configuration=c,s.resolve(),c.whiteLabel)return;const{commands:h}=e,u=de.create;ce||(ce=new n.WidgetTracker({namespace:"datalayer"})),a&&a.restore(ce,{command:u,name:()=>"datalayer"}),h.addCommand(u,{caption:"Show Datalayer Core",label:"Datalayer Core",icon:o,execute:()=>{const t=new ae(e),r=new n.MainAreaWidget({content:t});r.title.label="Datalayer",r.title.icon=o,e.shell.add(r,"main"),ce.add(r)}});const g=c.launcher.category;t.addItem({command:u,category:g});const m=e=>{const t=e.get("showInLauncher").composite;i&&t&&i.add({command:u,category:g,rank:1.1})};r&&r.load(he.id).then((e=>{console.log(`${he.id} settings loaded:`,e.composite),m(e),e.changed.connect(m)})).catch((e=>{console.error(`Failed to load settings for ${he.id}`,e)}))})).catch((e=>{s.reject(e),console.error(`Error while accessing the jupyter server extension.\n${e}`)})),console.log(`JupyterLab plugin ${he.id} is activated.`),d;function c(e){const{setConfiguration:t}=re.hY.getState();t(e)}}},ue=he},3513:(e,t,r)=>{r.d(t,{Y2:()=>s,ZP:()=>l,hY:()=>a});var i=r(9992),n=r(4231);const a=(0,i.M)(((e,t)=>({tab:0,getIntTab:()=>Math.floor(t().tab),setTab:t=>e((e=>({tab:t}))),configuration:void 0,setConfiguration:t=>{e((e=>({configuration:t})))},version:"",setVersion:r=>{r&&!t().version&&e((e=>({version:r})))}})));function s(e){return(0,n.useStore)(a,e)}const l=s}}]);