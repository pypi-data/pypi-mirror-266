import{da as A,dF as M,dG as Q,dH as te,dk as D,dI as q,dJ as ae,dK as K,q as W,du as O,dL as X,dM as w,dN as G,I as l,am as g,dO as se,dP as Y,dQ as oe,dR as N,F as k,dS as ne,dT as de,bE as ue,ci as re,dw as ie,ck as ce,bM as me,c2 as fe,bV as pe,dU as be,c7 as Ve,dV as ge,dW as ye,s as I,bx as t,bH as L,aR as ve,aE as r,bI as o,v as n,b3 as i,dX as Pe,b_ as _e,bJ as u,bZ as H,bQ as R,bT as z,H as T,bR as J,u as p,aP as S,ao as ke,ce as Se,dY as we}from"./index-C2AHI-HK.js";import{u as he,a as Ce}from"./views-DOof17m8.js";import{V as $e}from"./VAlert-DabNp_ty.js";const Fe=A({...M(),...Q(te(),["inline"])},"VCheckbox"),j=D()({name:"VCheckbox",inheritAttrs:!1,props:Fe(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,s){let{attrs:V,slots:d}=s;const b=q(e,"modelValue"),{isFocused:c,focus:m,blur:a}=ae(e),f=K(),h=W(()=>e.id||`checkbox-${f}`);return O(()=>{const[C,y]=X(V),v=w.filterProps(e),P=G.filterProps(e);return l(w,g({class:["v-checkbox",e.class]},C,v,{modelValue:b.value,"onUpdate:modelValue":_=>b.value=_,id:h.value,focused:c.value,style:e.style}),{...d,default:_=>{let{id:$,messagesId:F,isDisabled:U,isReadonly:x,isValid:ee}=_;return l(G,g(P,{id:$.value,"aria-describedby":F.value,disabled:U.value,readonly:x.value},y,{error:ee.value===!1,modelValue:b.value,"onUpdate:modelValue":le=>b.value=le,onFocus:m,onBlur:a}),d)}})}),{}}}),Z=2;function B(e=null){localStorage.fontSize=e,document.documentElement.style.fontSize=e}function Ue(){B(`${E()-Z}px`)}function Ie(){B(`${E()+Z}px`)}function E(){const e=window.getComputedStyle(document.documentElement).fontSize;return parseFloat(e)}const Re=A({...se({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ze=D()({name:"VRadio",props:Re(),setup(e,s){let{slots:V}=s;return O(()=>l(Y,g(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),V)),{}}}),Te=A({height:{type:[Number,String],default:"auto"},...M(),...Q(oe(),["multiple"]),trueIcon:{type:N,default:"$radioOn"},falseIcon:{type:N,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),je=D()({name:"VRadioGroup",inheritAttrs:!1,props:Te(),emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:V,slots:d}=s;const b=K(),c=W(()=>e.id||`radio-group-${b}`),m=q(e,"modelValue");return O(()=>{const[a,f]=X(V),h=w.filterProps(e),C=Y.filterProps(e),y=d.label?d.label({label:e.label,props:{for:c.value}}):e.label;return l(w,g({class:["v-radio-group",e.class],style:e.style},a,h,{modelValue:m.value,"onUpdate:modelValue":v=>m.value=v,id:c.value}),{...d,default:v=>{let{id:P,messagesId:_,isDisabled:$,isReadonly:F}=v;return l(k,null,[y&&l(ne,{id:P.value},{default:()=>[y]}),l(de,g(C,{id:P.value,"aria-describedby":_.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:$.value,readonly:F.value,"aria-labelledby":y?P.value:void 0,multiple:!1},f,{modelValue:m.value,"onUpdate:modelValue":U=>m.value=U}),d)])}})}),{}}}),Ae={name:"UserProfile",components:{Job:re},setup(){return{defaultView:he(),cyclePointsOrderDesc:ie(),jobTheme:ce(),reducedAnimation:me()}},computed:{...fe("user",["user"])},head(){return{title:pe("App.userProfile")}},methods:{resetFontSize:B,decreaseFontSize:Ue,increaseFontSize:Ie,getCurrentFontSize:E},allViews:Ce,vuetifyDefaults:{global:{hideDetails:!0}},jobStates:be.enumValues.map(e=>e.name),jobThemes:["default","greyscale","colour_blind"],icons:{settings:Ve,increase:ge,decrease:ye}},De={class:"text-h5"},Oe={class:"text-body-1"},Be=n("p",{class:"text-h6"},"Preferences",-1),Ee=n("span",null,"Font size",-1),Ge=n("span",null,"Colour Theme",-1),Ne={class:"c-job-state-table"},Le=n("th",null,"State",-1),He=n("td",null,null,-1),Je=n("span",null,"Latest cycle point at top",-1),Me=n("span",null,"Reduced animations",-1),Qe=n("span",null,"Default view",-1);function qe(e,s,V,d,b,c){const m=ve("job");return r(),I(L,{fluid:"",class:"c-user-profile"},{default:t(()=>[l(u,{class:"wrap"},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[l($e,{icon:e.$options.icons.settings,prominent:"",color:"grey-lighten-3"},{default:t(()=>[n("h3",De,i(e.$t("UserProfile.tableHeader")),1),n("p",Oe,i(e.$t("UserProfile.tableSubHeader")),1)]),_:1},8,["icon"]),e.user!==null?(r(),I(Pe,{key:0},{default:t(()=>[l(_e,{defaults:e.$options.vuetifyDefaults},{default:t(()=>[l(L,{"py-0":""},{default:t(()=>[l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[n("span",null,i(e.$t("UserProfile.username")),1)]),_:1}),l(o,{cols:"9"},{default:t(()=>[l(H,{"model-value":e.user.username,disabled:"",id:"profile-username","aria-disabled":"true",class:"text-body-1"},null,8,["model-value"])]),_:1})]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[n("span",null,i(e.$t("UserProfile.administrator")),1)]),_:1}),l(o,{cols:"9"},{default:t(()=>[l(j,{modelValue:e.user.admin,"onUpdate:modelValue":s[0]||(s[0]=a=>e.user.admin=a),disabled:"",id:"profile-admin","aria-disabled":"true",class:"text-body-1"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[n("span",null,i(e.$t("UserProfile.groups")),1)]),_:1}),l(o,{cols:"9"},{default:t(()=>[l(R,{items:e.user.groups,modelValue:e.user.groups,"onUpdate:modelValue":s[1]||(s[1]=a=>e.user.groups=a),"menu-props":{attach:!0},multiple:"",disabled:"",id:"profile-groups","aria-disabled":"true",class:"text-body-1"},null,8,["items","modelValue"])]),_:1})]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[n("span",null,i(e.$t("UserProfile.created")),1)]),_:1}),l(o,{cols:"9"},{default:t(()=>[l(H,{"model-value":e.user.created,disabled:"",id:"profile-created","aria-disabled":"true",class:"text-body-1"},null,8,["model-value"])]),_:1})]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[n("span",null,i(e.$t("UserProfile.permissions")),1)]),_:1}),l(o,{cols:"9"},{default:t(()=>[l(R,{items:e.user.permissions,modelValue:e.user.permissions,"onUpdate:modelValue":s[2]||(s[2]=a=>e.user.permissions=a),"menu-props":{attach:!0},multiple:"",disabled:"",id:"profile-permissions","aria-disabled":"true",class:"text-body-1"},null,8,["items","modelValue"])]),_:1})]),_:1}),l(u,{"no-gutters":"",class:"mt-4"},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[Be]),_:1})]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[Ee]),_:1}),l(o,{cols:"9"},{default:t(()=>[l(z,{variant:"outlined",id:"font-size-reset-button",class:"mr-2",onClick:s[3]||(s[3]=a=>c.resetFontSize())},{default:t(()=>[T(" Reset ")]),_:1}),l(z,{variant:"outlined",id:"font-size-decrease-button",class:"mx-2",onClick:s[4]||(s[4]=a=>c.decreaseFontSize())},{default:t(()=>[l(J,null,{default:t(()=>[T(i(e.$options.icons.decrease),1)]),_:1})]),_:1}),l(z,{variant:"outlined",id:"font-size-increase-button",class:"ml-2",onClick:s[5]||(s[5]=a=>c.increaseFontSize())},{default:t(()=>[l(J,null,{default:t(()=>[T(i(e.$options.icons.increase),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[Ge]),_:1}),l(je,{modelValue:d.jobTheme,"onUpdate:modelValue":s[6]||(s[6]=a=>d.jobTheme=a)},{default:t(()=>[n("table",Ne,[n("tr",null,[Le,(r(!0),p(k,null,S(e.$options.jobThemes,a=>(r(),p("th",{key:a},i(a.replace("_"," ")),1))),128))]),n("tr",null,[He,(r(!0),p(k,null,S(e.$options.jobThemes,a=>(r(),p("td",{key:a},[l(ze,{value:a,id:`input-job-theme-${a}`},null,8,["value","id"])]))),128))]),(r(!0),p(k,null,S(e.$options.jobStates,a=>(r(),p("tr",{key:a},[n("td",null,i(a),1),(r(!0),p(k,null,S(e.$options.jobThemes,f=>(r(),p("td",{key:f,class:ke([`job_theme--${f}`,"job_theme_override"])},[l(m,{status:a},null,8,["status"])],2))),128))]))),128))])]),_:1},8,["modelValue"]),l(o,{cols:"9"})]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[Je]),_:1}),l(j,{modelValue:d.cyclePointsOrderDesc,"onUpdate:modelValue":s[7]||(s[7]=a=>d.cyclePointsOrderDesc=a),id:"input-cyclepoints-order"},null,8,["modelValue"])]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[Me]),_:1}),l(j,{modelValue:d.reducedAnimation,"onUpdate:modelValue":s[8]||(s[8]=a=>d.reducedAnimation=a),"data-cy":"reduced-animation"},null,8,["modelValue"])]),_:1}),l(u,{"no-gutters":"",class:"align-center wrap"},{default:t(()=>[l(o,{cols:"3"},{default:t(()=>[Qe]),_:1}),l(R,{modelValue:d.defaultView,"onUpdate:modelValue":s[9]||(s[9]=a=>d.defaultView=a),items:Array.from(e.$options.allViews.keys()),"prepend-inner-icon":e.$options.allViews.get(d.defaultView).icon,"data-cy":"select-default-view","menu-props":{"data-cy":"select-default-view-menu"}},{item:t(({item:a,props:f})=>[l(Se,g(f,{"prepend-icon":e.$options.allViews.get(a.value).icon}),null,16,["prepend-icon"])]),_:1},8,["modelValue","items","prepend-inner-icon"])]),_:1})]),_:1})]),_:1},8,["defaults"])]),_:1})):(r(),I(we,{key:1,indeterminate:!0}))]),_:1})]),_:1})]),_:1})}const Ye=ue(Ae,[["render",qe]]);export{Ye as default};
