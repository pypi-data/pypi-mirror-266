"use strict";(self.webpackChunkbonxai=self.webpackChunkbonxai||[]).push([[132],{9320:(e,t,n)=>{n.r(t),n.d(t,{DataExplorerModel:()=>o,DataExplorerView:()=>u,DataSelectorModel:()=>c,DataSelectorView:()=>s,InferenceExplorerModel:()=>f,InferenceExplorerView:()=>d,version:()=>p.rE});var r=n(8801),a=n(8893),i=n(9520);a.createElement;var l={...n(8146),...n(7528),...n(8565)};class o extends r.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:"HelloModel",_view_name:"HelloView",_model_module:"bonxai",_view_module:"bonxai",_model_module_version:"0.1.0",_view_module_version:"0.1.0",value:"Hello World!"}}}class u extends r.DOMWidgetView{render(){this.value_changed(),this.model.on("change:props",this.value_changed,this)}value_changed(){var e=this.model.get("props"),t=a.createElement(l[this.model.attributes.component],e);i.render(t,this.el)}}class c extends r.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:"HelloModel",_view_name:"HelloView",_model_module:"bonxai",_view_module:"bonxai",_model_module_version:"0.1.0",_view_module_version:"0.1.0",value:"Hello World!"}}}class s extends r.DOMWidgetView{render(){this.value_changed(),this.model.on("change:props",this.value_changed,this),this.inputSelected=document.createElement("input"),this.inputSelected.type="text",this.inputSelected.id=`_hiddenSelected${this.model.model_id}`,this.inputSelected.style.display="none",this.inputSelected.value=this.model.get("selected"),this.inputSelected.oninput=this.data_changed.bind(this),this.el.appendChild(this.inputSelected)}value_changed(){var e=this.model.get("props");e={...e,_selectedData:`_hiddenSelected${this.model.model_id}`};var t=a.createElement(l[this.model.attributes.component],e);i.render(t,this.el)}data_changed(){this.model.set("selected",JSON.parse(this.inputSelected.value)),this.model.save_changes()}}class f extends r.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:"HelloModel",_view_name:"HelloView",_model_module:"bonxai",_view_module:"bonxai",_model_module_version:"0.1.0",_view_module_version:"0.1.0",value:"Hello World!"}}}class d extends r.DOMWidgetView{render(){this.value_changed(),this.model.on("change:props",this.value_changed,this),this.inputQuery=document.createElement("input"),this.inputQuery.type="text",this.inputQuery.id=`_hiddenQuery${this.model.model_id}`,this.inputQuery.style.display="none",this.inputQuery.value=this.model.get("query"),this.inputQuery.oninput=this.data_changed.bind(this),this.el.appendChild(this.inputQuery)}value_changed(){var e=this.model.get("props");e={...e,_queryInput:`_hiddenQuery${this.model.model_id}`};var t=a.createElement(l[this.model.attributes.component],e);i.render(t,this.el)}data_changed(){this.model.set("query",JSON.parse(this.inputQuery.value)),this.model.save_changes()}}const p={rE:"0.1.0"}},8146:(e,t,n)=>{t.__esModule=!0,t.DataExplorer=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(8893)),a=n(1269),i=n(9009);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.DataExplorer=function(e){var t=e.data,n=void 0===t?[]:t,l=e.dataTypes,u=void 0===l?{}:l,c=(0,r.useState)([]),s=c[0],f=c[1],d=(0,r.useState)({}),p=d[0],h=d[1],m=(0,r.useState)(n),g=m[0],v=m[1],y=(0,r.useState)(""),_=y[0],b=y[1];return(0,r.useEffect)((function(){0!==n.length&&(f(Object.keys(n[0])),v(n))}),[n]),(0,r.useEffect)((function(){var e=n.filter((function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"===u[r].type&&-1!=e[r].search(_))return!0}return!1})).filter((function(e,t){for(var n,r=function(){var t=i[a],n=p[t],r=e[t];if("string"!=u[t].type)if(Array.isArray(r)){if(0==n.filter((function(e){return r.indexOf(e)>-1})).length)return{v:!1}}else if(0==n.filter((function(e){return e==r})).length)return{v:!1};if("string"==u[t].type&&0==n.filter((function(e){return e[0]<=r.length&&e[1]>=r.length})).length)return{v:!1}},a=0,i=Object.keys(p);a<i.length;a++)if(n=r())return n.v;return!0}));v(e)}),[p,_,u]),r.default.createElement("div",null,r.default.createElement(i.Search,{setSearchStr:b}),r.default.createElement(a.DataTable,{data:n,filteredData:g,dataTypes:u,variables:s,currentFilters:p,handleFilter:function(e,t,n){if(n[e]){var r,a=n[e],i=function(e,t,n){return"string"!=u[e].type?0!==t.filter((function(e){return e==n})).length&&t.filter((function(e){return e!=n})):0!==t.filter((function(e){return e[0]==n[0]&&e[1]==n[1]})).length&&t.filter((function(e){return e[0]!=n[0]&&e[1]!=n[1]}))}(e,a,t);0==(r=i||a.concat([t])).length?delete n[e]:n[e]=r,h((function(e){return o({},e)}))}else n[e]=[t],h((function(e){return o({},e)}))}}))}},7528:(e,t,n)=>{t.__esModule=!0,t.DataSelector=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(8893)),a=n(1269),i=n(9009);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.DataSelector=function(e){var t=e.data,n=void 0===t?[]:t,l=e.dataTypes,u=void 0===l?{}:l,c=e._selectedData,s=(0,r.useState)([]),f=s[0],d=s[1],p=(0,r.useState)({}),h=p[0],m=p[1],g=(0,r.useState)([]),v=g[0],y=g[1],_=(0,r.useState)(""),b=_[0],w=_[1];return(0,r.useEffect)((function(){0!==n.length&&(d(Object.keys(n[0])),y(n))}),[n]),(0,r.useEffect)((function(){var e=n.filter((function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"===u[r].type&&-1!=e[r].search(b))return!0}return!1})).filter((function(e,t){for(var n,r=function(){var t=i[a],n=h[t],r=e[t];if("string"!=u[t].type)if(Array.isArray(r)){if(0==n.filter((function(e){return r.indexOf(e)>-1})).length)return{v:!1}}else if(0==n.filter((function(e){return e==r})).length)return{v:!1};if("string"==u[t].type&&0==n.filter((function(e){return e[0]<=r.length&&e[1]>=r.length})).length)return{v:!1}},a=0,i=Object.keys(h);a<i.length;a++)if(n=r())return n.v;return!0}));y(e)}),[h,b,u]),(0,r.useEffect)((function(){if(v){var e=document.getElementById(c),t=JSON.stringify(v);if(e){e.value=t;var n=document.createEvent("HTMLEvents");n.initEvent("input",!1,!0),e.dispatchEvent(n)}}}),[v]),r.default.createElement("div",null,r.default.createElement(i.Search,{setSearchStr:w}),r.default.createElement(a.DataTable,{data:n,filteredData:v,dataTypes:u,variables:f,currentFilters:h,handleFilter:function(e,t,n){if(n[e]){var r,a=n[e],i=function(e,t,n){return"string"!=u[e].type?0!==t.filter((function(e){return e==n})).length&&t.filter((function(e){return e!=n})):0!==t.filter((function(e){return e[0]==n[0]&&e[1]==n[1]})).length&&t.filter((function(e){return e[0]!=n[0]&&e[1]!=n[1]}))}(e,a,t);0==(r=i||a.concat([t])).length?delete n[e]:n[e]=r,m((function(e){return o({},e)}))}else n[e]=[t],m((function(e){return o({},e)}))}}))}},1269:(e,t,n)=>{t.__esModule=!0,t.DataTable=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(8893)),a=g(n(7089)),i=g(n(2803)),l=g(n(5322)),o=g(n(6191)),u=g(n(4749)),c=g(n(7035)),s=g(n(25)),f=g(n(4906)),d=g(n(651)),p=(g(n(4604)),g(n(4825))),h=(g(n(1274)),n(8274)),m=n(8749);function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function _(e){var t=e.variables,n=void 0===t?[]:t,i=e.data,l=void 0===i?[]:i,u=e.dataTypes,s=void 0===u?{}:u,p=e.currentFilters,g=e.handleFilter,v=e.onRequestSort,y=e.order,_=e.orderBy;return e.rowCount,r.createElement(c.default,null,r.createElement(f.default,null,n.map((function(e){return r.createElement(o.default,{key:e,padding:"normal",sortDirection:_===e.id&&y},r.createElement(d.default,{active:_===e,direction:_===e?y:"asc",onClick:(t=e,function(e){v(e,t)})},r.createElement("p",{style:{margin:"0 0 0 5px"}},e,r.createElement("span",{style:{margin:"0 0 0 10px",color:"gray"}},r.createElement("i",null,"- "+("string"==s[e].type?"string (length)":s[e].type)))),_===e?r.createElement(a.default,{component:"span",sx:h.visuallyHidden},"desc"===y?"sorted descending":"sorted ascending"):null),r.createElement(m.HistogramVis,{data:l,dataTypes:s,variable:e,currentFilters:p,handleFilter:g}));var t}))))}t.DataTable=function(e){var t=e.data,n=void 0===t?[]:t,c=e.filteredData,d=void 0===c?[]:c,h=e.dataTypes,m=void 0===h?{}:h,g=e.variables,v=void 0===g?[]:g,b=e.currentFilters,w=e.handleFilter,E=r.useState("asc"),O=E[0],x=E[1],j=r.useState("text"),M=j[0],S=j[1],k=r.useState(0),P=k[0],D=k[1],T=r.useState(10),W=T[0],V=T[1],C=P>0?Math.max(0,(1+P)*W-n.length):0,A=r.useMemo((function(){return(e=d,t=function(e,t){return"desc"===e?function(e,n){return y(e,n,t)}:function(e,n){return-y(e,n,t)}}(O,M),e.sort((function(e,n){var r=t(e,n);return 0!==r?r:e-n})),e.map((function(e){return e}))).slice(P*W,P*W+W);var e,t}),[O,M,P,W,n,d]);return r.useEffect((function(){D(0)}),[d]),r.createElement(a.default,null,r.createElement(p.default,{sx:{mb:2,width:"1000px"}},r.createElement(u.default,null,r.createElement(i.default,{"aria-labelledby":"tableTitle",size:"small"},r.createElement(_,{data:n,dataTypes:m,order:O,orderBy:M,onRequestSort:function(e,t){x(M===t&&"asc"===O?"desc":"asc"),S(t)},rowCount:n.length,variables:v,currentFilters:b,handleFilter:w}),r.createElement(l.default,null,A.map((function(e,t){return r.createElement(f.default,{hover:!0,role:"checkbox",tabIndex:-1,key:""+t,sx:{cursor:"pointer"}},v.map((function(n,a){return r.createElement(o.default,{key:"row"+t+"cell"+a},Array.isArray(e[n])?""+e[n].join(", "):e[n])})))})),C>0&&r.createElement(f.default,{style:{height:33*C}},r.createElement(o.default,{colSpan:6}))))),r.createElement(s.default,{rowsPerPageOptions:[10,20,30],component:"div",count:d.length,rowsPerPage:W,page:P,onPageChange:function(e,t){D(t)},onRowsPerPageChange:function(e){V(parseInt(e.target.value,10)),D(0)}})))}},8749:(e,t,n)=>{t.__esModule=!0,t.HistogramVis=void 0;var r=l(n(8893)),a=l(n(8424));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.HistogramVis=function(e){var t=e.data,n=void 0===t?[]:t,i=e.dataTypes,l=void 0===i?{}:i,u=e.variable,c=void 0===u?"":u,s=e.layout,f=void 0===s?{height:80,width:210,marginRight:15,marginLeft:5,marginTop:5,marginBottom:20}:s,d=e.currentFilters,p=e.handleFilter,h=(0,r.useRef)("svgCompare");return(0,r.useEffect)((function(){var e=a.select(h.current),t=e.select("#vis"),r=l[c].type;if("string"===r){var i=a.bin().thresholds(10).value((function(e){return e.length}))(n.map((function(e){return e[c]}))),u=a.scaleLinear().domain([i[0].x0,i[i.length-1].x1]).range([f.marginLeft,f.width-f.marginRight]),s=a.scaleLinear().domain([0,a.max(i,(function(e){return e.length}))]).range([f.height-f.marginBottom,f.marginTop]);t.selectAll(".bins").data(i).join("rect").attr("class","bins").attr("x",(function(e){return i.length>1?u(e.x0)+1:f.marginLeft+1})).attr("width",(function(e){return i.length>1?u(e.x1)-u(e.x0)-1:f.width-f.marginLeft-f.marginRight-2})).attr("y",(function(e){return s(e.length)})).attr("height",(function(e){return s(0)-s(e.length)})).attr("cursor","pointer").attr("fill",(function(e){return d&&d[c]&&0==d[c].filter((function(t){return t[0]<=u.invert(e.x0)&&t[1]>=u.invert(e.x1)})).length?"gray":"steelblue"})).on("click",(function(e,t){if(1!==i.length){var n=u.invert(t.x0),r=u.invert(t.x1);p(c,[n,r],d)}})),e.select("#xaxis").attr("transform","translate(0,"+(f.height-f.marginBottom)+")").call(a.axisBottom(u).ticks(5).tickSizeOuter(0).tickSize(2)).call((function(e){return e.select(".domain").remove()}))}else if("list"===r){for(var m,g=n.map((function(e){return e[c]})).flat(),v=[],y=function(){var e=m.value,t=g.filter((function(t){return t===e})).length;v.push({nVar:e,nCounts:t})},_=o(l[c].ints);!(m=_()).done;)y();var b=a.scaleBand().domain(v.map((function(e){return e.nVar}))).range([f.marginLeft,f.width-f.marginRight]),w=a.scaleLinear().domain([0,a.max(v.map((function(e){return e.nCounts})))]).range([f.height-f.marginBottom,f.marginTop]);t.selectAll(".bins").data(v).join("rect").attr("class","bins").attr("x",(function(e){return b(e.nVar)+1})).attr("width",(function(e){return b.bandwidth()-2})).attr("y",(function(e){return w(e.nCounts)})).attr("height",(function(e){return w(0)-w(e.nCounts)})).attr("cursor","pointer").attr("fill",(function(e){return d&&d[c]&&0==d[c].filter((function(t){return t==e.nVar})).length?"gray":"steelblue"})).on("click",(function(e,t){p(c,t.nVar,d)})),e.select("#xaxis").attr("transform","translate(0,"+(f.height-f.marginBottom)+")").call(a.axisBottom(b).tickValues(function(e){if(e.length<10)return e;var t=a.scaleLinear().domain(a.extent(e)).range([f.marginLeft,f.width-f.marginRight]);return a.axisBottom(t).ticks(5).scale().ticks()}(g)).tickSizeOuter(0).tickSize(2)).call((function(e){return e.select(".domain").remove()}))}else{for(var E,O=[],x=function(){var e=E.value,t=n.filter((function(t){return t[c]===e})).length;O.push({nVar:e,nCounts:t})},j=o(l[c].ints);!(E=j()).done;)x();var M=a.scaleBand().domain(O.map((function(e){return e.nVar}))).range([f.marginLeft,f.width-f.marginRight]),S=a.scaleLinear().domain([0,a.max(O.map((function(e){return e.nCounts})))]).range([f.height-f.marginBottom,f.marginTop]);t.selectAll(".bins").data(O).join("rect").attr("class","bins").attr("x",(function(e){return M(e.nVar)+1})).attr("width",(function(e){return M.bandwidth()-2})).attr("y",(function(e){return S(e.nCounts)})).attr("height",(function(e){return S(0)-S(e.nCounts)})).attr("cursor","pointer").attr("fill",(function(e){return d&&d[c]&&0==d[c].filter((function(t){return t==e.nVar})).length?"gray":"steelblue"})).on("click",(function(e,t){p(c,t.nVar,d)})),e.select("#xaxis").attr("transform","translate(0,"+(f.height-f.marginBottom)+")").call(a.axisBottom(M).ticks(5).tickSizeOuter(0).tickSize(2)).call((function(e){return e.select(".domain").remove()}))}}),[n,l,c,d]),r.default.createElement("div",null,r.default.createElement("svg",{width:f.width,height:f.height,ref:h},r.default.createElement("g",{id:"vis"}),r.default.createElement("g",{id:"xaxis"})))}},8565:(e,t,n)=>{t.__esModule=!0,t.InferenceExplorer=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}(n(8893)),a=n(3610);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.InferenceExplorer=function(e){var t=e.allTrainData,n=void 0===t?[]:t,i=e.allTestData,l=void 0===i?[]:i,o=e._queryInput;return console.log(l),r.default.createElement("div",null,r.default.createElement(a.UMAPVis,{allTrainData:n,allTestData:l,_queryInput:o}))}},9009:(e,t,n)=>{t.__esModule=!0,t.Search=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(8893)),a=o(n(7089)),i=(o(n(4468)),o(n(4744))),l=o(n(3479));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}o(n(4745)),t.Search=function(e){var t=e.title,n=void 0===t?"Search":t,o=e.width,u=void 0===o?"350px":o,c=e.setSearchStr;return r.createElement(a.default,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"},"& .MuiOutlinedInput-root":{"& fieldset":{borderRadius:"25px"}}},noValidate:!0,autoComplete:"off"},r.createElement(l.default,{InputProps:{startAdornment:r.createElement(i.default,{position:"start"})},size:"small",id:"outlined-basic",label:n,variant:"outlined",onChange:function(e){c(e.target.value)},style:{width:u}}))}},4834:(e,t,n)=>{t.__esModule=!0,t.SelectedTable=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(8893)),a=f(n(2803)),i=f(n(5322)),l=f(n(6191)),o=f(n(4749)),u=f(n(7035)),c=f(n(4906)),s=f(n(4825));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}t.SelectedTable=function(e){var t=e.title,n=void 0===t?"Queries":t,f=e.selectedData,d=void 0===f?[]:f,p=(e.testData,e.testDataPrediction,e.hover);return r.createElement("div",{style:{marginTop:"50px"}},r.createElement("p",null,n),r.createElement(o.default,{component:s.default,sx:{width:"650px"},style:{maxHeight:500}},r.createElement(a.default,{sx:{maxWidth:650},size:"small","aria-label":"a dense table",stickyHeader:!0},r.createElement(u.default,null,r.createElement(c.default,null,r.createElement(l.default,null,"text"),r.createElement(l.default,null,"label"))),r.createElement(i.default,{style:{maxHeight:"200px",overflow:"scroll"}},d.map((function(e,t){return r.createElement(c.default,{key:"row"+t,sx:{backgroundColor:t==p?"#efefef":"none","&:last-child td, &:last-child th":{border:0}}},r.createElement(l.default,{component:"th",scope:"row"},e.text),r.createElement(l.default,null,e.label))}))))))}},3610:(e,t,n)=>{t.__esModule=!0,t.UMAPVis=void 0;var r,a=s(n(8893)),i=s(n(8424)),l=(r=n(6125))&&r.__esModule?r:{default:r},o=n(4834),u=n(9009);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}t.UMAPVis=function(e){var t=e.allTrainData,n=void 0===t?[]:t,r=e.allTestData,c=void 0===r?[]:r,s=e.layout,f=void 0===s?{height:500,width:650,marginRight:25,marginLeft:25,marginTop:25,marginBottom:25}:s,d=e._queryInput,p=(0,a.useRef)("svgUMAP"),h=(0,a.useState)([]),m=h[0],g=h[1],v=(0,a.useState)(""),y=v[0],_=v[1],b=(0,a.useState)(null),w=b[0],E=b[1];return(0,a.useEffect)((function(){var e=i.select(p.current),t=e.select("#vis"),r=i.extent(n.concat(c),(function(e){return e[0]})),a=i.extent(n.concat(c),(function(e){return e[1]})),l=i.scaleLinear().domain(r).range([f.marginLeft,f.width-f.marginRight]),o=i.scaleLinear().domain(a).range([f.height-f.marginBottom,f.marginTop]),u=Array.from(new Set(n.map((function(e){return e.label})))),s=i.scaleOrdinal(i.schemeSet2).domain(u),d=t.select("#train").selectAll(".trainEmbeddings").data(n).join("circle").attr("class","trainEmbeddings").attr("cx",(function(e){return l(e[0])})).attr("cy",(function(e){return o(e[1])})).attr("r",3).attr("fill","none").attr("stroke",(function(e,t){return s(e.label)})).attr("opacity",.25),h=(t.select("#test").selectAll(".testEmbeddings").data(c).join("circle").attr("class","testEmbeddings").attr("cx",(function(e){return l(e[0])})).attr("cy",(function(e){return o(e[1])})).attr("r",3).attr("fill","red").on("mouseover",(function(e,t){E(t)})).on("mouseout",E(null)),i.brush().on("start brush end",(function(e){var t=e.selection,r=[];if(t){i.select(".selection").attr("fill","none").attr("stroke","gray").attr("stroke-dasharray","2px 5px 5px 5px");var a=t[0],u=a[0],c=a[1],f=t[1],p=f[0],h=f[1];d.attr("fill",(function(e,t){return u<=l(e[0])&&l(e[0])<p&&c<=o(e[1])&&o(e[1])<h?s(e.label):"none"})).attr("stroke",(function(e,t){return u<=l(e[0])&&l(e[0])<p&&c<=o(e[1])&&o(e[1])<h?s(e.label):"gray"})).attr("opacity",(function(e,t){return u<=l(e[0])&&l(e[0])<p&&c<=o(e[1])&&o(e[1])<h?.5:.25})),r=n.filter((function(e,t){return u<=l(e[0])&&l(e[0])<p&&c<=o(e[1])&&o(e[1])<h})),g(r)}else d.attr("stroke",(function(e,t){return s(e.label)})).attr("fill","none").attr("opacity",.25)})));e.call(h)}),[n,c]),a.default.createElement("div",null,a.default.createElement("p",null,"Brush to select training sentences for comparison."),a.default.createElement("svg",{width:f.width,height:f.height,ref:p},a.default.createElement("g",{id:"vis"},a.default.createElement("g",{id:"train"}),a.default.createElement("g",{id:"test"})),a.default.createElement("g",{id:"xaxis"})),a.default.createElement("div",{style:{display:"flex",alignItems:"center"}},a.default.createElement(u.Search,{title:"Query Sentence",width:"525px",setSearchStr:_}),a.default.createElement(l.default,{style:{height:"40px"},variant:"outlined",onClick:function(e){!function(e){if(e){var t=document.getElementById(d),n=JSON.stringify([e]);if(t){t.value=n;var r=document.createEvent("HTMLEvents");r.initEvent("input",!1,!0),t.dispatchEvent(r)}}}(y)}},"Compute")),a.default.createElement(o.SelectedTable,{selectedData:c,hover:w}),a.default.createElement(o.SelectedTable,{title:"Compare",selectedData:m}))}}}]);