import{H as gt,g as vt}from"../chunks/entry.Dtmeg57J.js";import{O as kt,S as yt,m as rt,F as K,aa as bt,ab as $t,f as nt,a as wt,b as ot,E as it,U as Ke,V as We,W as Ye,d as ct,g as ut,n as ft,Q as Et,e as Xe,x as Pt,G as Dt,h as Tt,i as Ze,j as xe,k as et}from"../chunks/mopidyTools.DFYZSeRS.js";import{f as At,c as Ct,a as It}from"../chunks/index.nzF9rrKO.js";import{h as qe,u as dt}from"../chunks/await_block.Bclaoo_x.js";import{S as mt,i as ht,e as h,n as q,c as p,a as _,d,q as R,k as Ve,r as o,y as _e,f as j,g as f,u as C,w as L,t as x,x as U,b as ee,z as H,s as Re,j as b,m as Ee,h as k,A as M,o as ge,l as Pe,B as Vt,J as Nt}from"../chunks/index.BKUCHbCk.js";import{s as pt,j as ne,n as W,r as Be,c as _t,h as St}from"../chunks/scheduler.DaBToa4-.js";import{c as Ot}from"../chunks/clickOutside.BxFJ2b6i.js";import{b as jt}from"../chunks/paths.ka1xlWwD.js";function qt(r,e){throw new gt(r,e)}new TextEncoder;const Rt=async r=>{try{const e=await kt();if(e!==void 0&&e.length>0){const t=e.find(l=>l.name===r);if(t)return{playlistsTracks:await yt(t.uri),selectedPlaylist:t}}}catch{return{playlistsTracks:[],selectedPlaylist:""}}};async function Bt({params:r}){const e=await Rt(r.slug);if("tracks"in e.playlistsTracks)return{playlistsTracks:e.playlistsTracks,selectedPlaylist:e.selectedPlaylist,slug:r.slug};qt(404,"Page not found")}const ml=Object.freeze(Object.defineProperty({__proto__:null,load:Bt},Symbol.toStringTag,{value:"Module"}));function Lt(r){let e,t,l,s,a,i,m="Delete playlist",n,c,u="Yes",A,$,B,Q;return{c(){e=h("div"),t=h("div"),l=q(),s=h("div"),a=h("div"),i=h("p"),i.textContent=m,n=q(),c=h("button"),c.textContent=u,A=q(),$=h("button"),this.h()},l(w){e=p(w,"DIV",{class:!0});var y=_(e);t=p(y,"DIV",{class:!0,role:!0,tabindex:!0}),_(t).forEach(d),l=R(y),s=p(y,"DIV",{class:!0});var O=_(s);a=p(O,"DIV",{class:!0});var Z=_(a);i=p(Z,"P",{class:!0,"data-svelte-h":!0}),Ve(i)!=="svelte-1yj16o2"&&(i.textContent=m),n=R(Z),c=p(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),Ve(c)!=="svelte-13a00of"&&(c.textContent=u),Z.forEach(d),O.forEach(d),A=R(y),$=p(y,"BUTTON",{class:!0,"aria-label":!0}),_($).forEach(d),y.forEach(d),this.h()},h(){o(t,"class","modal-background svelte-sak310"),o(t,"role","button"),o(t,"tabindex","0"),o(i,"class","title"),o(c,"class","button"),o(a,"class","modal-card-body has-text-centered svelte-sak310"),o(s,"class","modal-card svelte-sak310"),o($,"class","modal-close is-large svelte-sak310"),o($,"aria-label","close"),o(e,"class","modal svelte-sak310"),_e(e,"is-active",r[0])},m(w,y){j(w,e,y),f(e,t),f(e,l),f(e,s),f(s,a),f(a,i),f(a,n),f(a,c),f(e,A),f(e,$),B||(Q=[C(t,"click",r[3]),C(t,"keypress",r[4]),C(c,"click",function(){ne(r[2](r[1].uri))&&r[2](r[1].uri).apply(this,arguments)}),C($,"click",r[5])],B=!0)},p(w,[y]){r=w,y&1&&_e(e,"is-active",r[0])},i:W,o:W,d(w){w&&d(e),B=!1,Be(Q)}}}function Ut(r,e,t){let l;_t(r,rt,u=>t(6,l=u));let{deletePlaylistConfirmation:s}=e,{selectedPlaylist:a}=e;const i=async u=>{await l.playlists.delete({uri:u})?(t(0,s=!s),setTimeout(()=>{vt("playlists")},1e3)):console.log("Error: no laylist remove")},m=()=>t(0,s=!s),n=()=>t(0,s=!s),c=()=>t(0,s=!s);return r.$$set=u=>{"deletePlaylistConfirmation"in u&&t(0,s=u.deletePlaylistConfirmation),"selectedPlaylist"in u&&t(1,a=u.selectedPlaylist)},[s,a,i,m,n,c]}class Ht extends mt{constructor(e){super(),ht(this,e,Ut,Lt,pt,{deletePlaylistConfirmation:0,selectedPlaylist:1})}}function tt(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Mt(r){let e,t,l;return t=new K({props:{icon:ct,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){e=h("a"),L(t.$$.fragment),this.h()},l(s){e=p(s,"A",{href:!0,class:!0});var a=_(e);U(t.$$.fragment,a),a.forEach(d),this.h()},h(){o(e,"href",null),o(e,"class","button")},m(s,a){j(s,e,a),H(t,e,null),l=!0},i(s){l||(k(t.$$.fragment,s),l=!0)},o(s){b(t.$$.fragment,s),l=!1},d(s){s&&d(e),M(t)}}}function Qt(r){let e,t,l;return t=new K({props:{icon:ut,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){e=h("a"),L(t.$$.fragment),this.h()},l(s){e=p(s,"A",{href:!0,class:!0});var a=_(e);U(t.$$.fragment,a),a.forEach(d),this.h()},h(){o(e,"href",null),o(e,"class","button")},m(s,a){j(s,e,a),H(t,e,null),l=!0},i(s){l||(k(t.$$.fragment,s),l=!0)},o(s){b(t.$$.fragment,s),l=!1},d(s){s&&d(e),M(t)}}}function lt(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:Kt,then:Ft,catch:zt,value:27,error:26,blocks:[,,,]};return qe(t=r[3],s),{c(){e=ge(),s.block.c()},l(a){e=ge(),s.block.l(a)},m(a,i){j(a,e,i),s.block.m(a,s.anchor=i),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(a,i){r=a,s.ctx=r,i&8&&t!==(t=r[3])&&qe(t,s)||dt(s,r,i)},i(a){l||(k(s.block),l=!0)},o(a){for(let i=0;i<3;i+=1){const m=s.blocks[i];b(m)}l=!1},d(a){a&&d(e),s.block.d(a),s.token=null,s=null}}}function zt(r){let e=r[26].message+"",t;return{c(){t=x(e)},l(l){t=ee(l,e)},m(l,s){j(l,t,s)},p(l,s){s&8&&e!==(e=l[26].message+"")&&Re(t,e)},i:W,o:W,d(l){l&&d(t)}}}function Ft(r){let e,t,l,s;const a=[Jt,Gt],i=[];function m(n,c){return n[27]?0:1}return e=m(r),t=i[e]=a[e](r),{c(){t.c(),l=ge()},l(n){t.l(n),l=ge()},m(n,c){i[e].m(n,c),j(n,l,c),s=!0},p(n,c){let u=e;e=m(n),e!==u&&(Pe(),b(i[u],1,1,()=>{i[u]=null}),Ee(),t=i[e],t||(t=i[e]=a[e](n),t.c()),k(t,1),t.m(l.parentNode,l))},i(n){s||(k(t),s=!0)},o(n){b(t),s=!1},d(n){n&&d(l),i[e].d(n)}}}function Gt(r){let e;return{c(){e=x("Error")},l(t){e=ee(t,"Error")},m(t,l){j(t,e,l)},i:W,o:W,d(t){t&&d(e)}}}function Jt(r){let e,t,l,s;return l=new K({props:{icon:Et,class:"icon"}}),{c(){e=h("div"),t=h("a"),L(l.$$.fragment),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=_(e);t=p(i,"A",{href:!0,class:!0});var m=_(t);U(l.$$.fragment,m),m.forEach(d),i.forEach(d),this.h()},h(){o(t,"href",null),o(t,"class","button"),o(e,"class","column")},m(a,i){j(a,e,i),f(e,t),H(l,t,null),s=!0},i(a){s||(k(l.$$.fragment,a),s=!0)},o(a){b(l.$$.fragment,a),s=!1},d(a){a&&d(e),M(l)}}}function Kt(r){let e,t,l,s;return l=new K({props:{icon:ft,spin:!0,class:"icon"}}),{c(){e=h("div"),t=h("a"),L(l.$$.fragment),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=_(e);t=p(i,"A",{href:!0,class:!0});var m=_(t);U(l.$$.fragment,m),m.forEach(d),i.forEach(d),this.h()},h(){o(t,"href",null),o(t,"class","button"),o(e,"class","column")},m(a,i){j(a,e,i),f(e,t),H(l,t,null),s=!0},p:W,i(a){s||(k(l.$$.fragment,a),s=!0)},o(a){b(l.$$.fragment,a),s=!1},d(a){a&&d(e),M(l)}}}function Wt(r){let e,t=r[26].message+"",l;return{c(){e=h("p"),l=x(t),this.h()},l(s){e=p(s,"P",{class:!0,style:!0});var a=_(e);l=ee(a,t),a.forEach(d),this.h()},h(){o(e,"class","list-item"),Vt(e,"color","red")},m(s,a){j(s,e,a),f(e,l)},p:W,i:W,o:W,d(s){s&&d(e)}}}function Yt(r){let e,t,l,s;const a=[Zt,Xt],i=[];function m(n,c){return n[0].playlistsTracks.tracks?0:1}return e=m(r),t=i[e]=a[e](r),{c(){t.c(),l=ge()},l(n){t.l(n),l=ge()},m(n,c){i[e].m(n,c),j(n,l,c),s=!0},p(n,c){let u=e;e=m(n),e===u?i[e].p(n,c):(Pe(),b(i[u],1,1,()=>{i[u]=null}),Ee(),t=i[e],t?t.p(n,c):(t=i[e]=a[e](n),t.c()),k(t,1),t.m(l.parentNode,l))},i(n){s||(k(t),s=!0)},o(n){b(t),s=!1},d(n){n&&d(l),i[e].d(n)}}}function Xt(r){let e,t="No tracks";return{c(){e=h("a"),e.textContent=t,this.h()},l(l){e=p(l,"A",{href:!0,class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-1ikxyl7"&&(e.textContent=t),this.h()},h(){o(e,"href",null),o(e,"class","list-item")},m(l,s){j(l,e,s)},p:W,i:W,o:W,d(l){l&&d(e)}}}function Zt(r){let e=[],t=new Map,l,s,a=Xe(r[0].playlistsTracks.tracks);const i=n=>n[6](n[23]);for(let n=0;n<a.length;n+=1){let c=tt(r,a,n),u=i(c);t.set(u,e[n]=at(u,c))}let m=null;return a.length||(m=st()),{c(){for(let n=0;n<e.length;n+=1)e[n].c();l=ge(),m&&m.c()},l(n){for(let c=0;c<e.length;c+=1)e[c].l(n);l=ge(),m&&m.l(n)},m(n,c){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(n,c);j(n,l,c),m&&m.m(n,c),s=!0},p(n,c){if(c&3377){a=Xe(n[0].playlistsTracks.tracks),Pe();for(let u=0;u<e.length;u+=1)e[u].r();e=Pt(e,c,i,1,n,a,t,l.parentNode,Dt,at,l,tt);for(let u=0;u<e.length;u+=1)e[u].a();Ee(),!a.length&&m?m.p(n,c):a.length?m&&(m.d(1),m=null):(m=st(),m.c(),m.m(l.parentNode,l))}},i(n){if(!s){for(let c=0;c<a.length;c+=1)k(e[c]);s=!0}},o(n){for(let c=0;c<e.length;c+=1)b(e[c]);s=!1},d(n){n&&d(l);for(let c=0;c<e.length;c+=1)e[c].d(n);m&&m.d(n)}}}function st(r){let e,t="loading songs";return{c(){e=h("a"),e.textContent=t,this.h()},l(l){e=p(l,"A",{href:!0,class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-111x9by"&&(e.textContent=t),this.h()},h(){o(e,"href",null),o(e,"class","list-item")},m(l,s){j(l,e,s)},p:W,d(l){l&&d(e)}}}function xt(r){let e,t;return e=new K({props:{icon:ct,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){L(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){H(e,l,s),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function el(r){let e,t;return e=new K({props:{icon:ut,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){L(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){H(e,l,s),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function at(r,e){let t,l,s,a=e[23].name+"",i,m,n,c,u,A,$,B,Q,w,y,O,Z,se,I,N,z,F,Y,g,D,G,V,oe,ve,te,ue,ke=W,ie,le,fe;const be=[el,xt],ce=[];function ae(E,S){return E[5]==E[25]?0:1}A=ae(e),$=ce[A]=be[A](e),O=new K({props:{icon:nt,class:"icon is-small"}}),N=new K({props:{icon:Tt,class:"icon is-small"}}),g=new K({props:{icon:ot,class:"icon is-small"}}),oe=new K({props:{icon:it,class:"icon is-small"}});function me(...E){return e[15](e[25],...E)}function De(...E){return e[16](e[25],...E)}function Te(){return e[17](e[25])}return{key:r,first:null,c(){t=h("a"),l=h("div"),s=h("div"),i=x(a),m=q(),n=h("div"),c=h("div"),u=h("div"),$.c(),B=q(),Q=h("div"),w=h("div"),y=h("a"),L(O.$$.fragment),Z=x(` 
                       Play now`),se=q(),I=h("a"),L(N.$$.fragment),z=x(` 
                       Play next`),F=q(),Y=h("a"),L(g.$$.fragment),D=x(` 
                       Add to queue`),G=q(),V=h("a"),L(oe.$$.fragment),ve=x(` 
                       Remove track`),te=q(),this.h()},l(E){t=p(E,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var S=_(t);l=p(S,"DIV",{class:!0});var X=_(l);s=p(X,"DIV",{class:!0,role:!0,tabindex:!0});var $e=_(s);i=ee($e,a),$e.forEach(d),m=R(X),n=p(X,"DIV",{class:!0});var Ae=_(n);c=p(Ae,"DIV",{class:!0});var ye=_(c);u=p(ye,"DIV",{class:!0,role:!0,tabindex:!0});var de=_(u);$.l(de),de.forEach(d),B=R(ye),Q=p(ye,"DIV",{class:!0,id:!0,role:!0});var Ce=_(Q);w=p(Ce,"DIV",{class:!0});var P=_(w);y=p(P,"A",{href:!0,class:!0});var J=_(y);U(O.$$.fragment,J),Z=ee(J,` 
                       Play now`),J.forEach(d),se=R(P),I=p(P,"A",{href:!0,class:!0});var v=_(I);U(N.$$.fragment,v),z=ee(v,` 
                       Play next`),v.forEach(d),F=R(P),Y=p(P,"A",{href:!0,class:!0});var T=_(Y);U(g.$$.fragment,T),D=ee(T,` 
                       Add to queue`),T.forEach(d),G=R(P),V=p(P,"A",{href:!0,class:!0});var re=_(V);U(oe.$$.fragment,re),ve=ee(re,` 
                       Remove track`),re.forEach(d),P.forEach(d),Ce.forEach(d),ye.forEach(d),Ae.forEach(d),X.forEach(d),te=R(S),S.forEach(d),this.h()},h(){o(s,"class","column"),o(s,"role","button"),o(s,"tabindex","0"),o(u,"class","dropdown-trigger"),o(u,"role","button"),o(u,"tabindex","0"),o(y,"href",null),o(y,"class","dropdown-item"),o(I,"href",null),o(I,"class","dropdown-item"),o(Y,"href",null),o(Y,"class","dropdown-item"),o(V,"href",null),o(V,"class","dropdown-item"),o(w,"class","dropdown-content"),o(Q,"class","dropdown-menu"),o(Q,"id","dropdown-menu"),o(Q,"role","menu"),o(c,"class","dropdown is-right is-up"),_e(c,"is-active",e[5]==e[25]),o(n,"class","column is-narrow"),o(l,"class","columns is-mobile"),o(t,"class","list-item"),o(t,"href",null),o(t,"draggable",!0),o(t,"ondragover","return false"),_e(t,"is-active",e[4]===e[25]),this.first=t},m(E,S){j(E,t,S),f(t,l),f(l,s),f(s,i),f(l,m),f(l,n),f(n,c),f(c,u),ce[A].m(u,null),f(c,B),f(c,Q),f(Q,w),f(w,y),H(O,y,null),f(y,Z),f(w,se),f(w,I),H(N,I,null),f(I,z),f(w,F),f(w,Y),H(g,Y,null),f(Y,D),f(w,G),f(w,V),H(oe,V,null),f(V,ve),f(t,te),ie=!0,le||(fe=[C(s,"click",function(){ne(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),C(s,"keypress",function(){ne(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),C(u,"click",function(){ne(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),C(u,"keypress",function(){ne(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),C(y,"click",function(){ne(Ze(e[23].uri))&&Ze(e[23].uri).apply(this,arguments)}),C(I,"click",function(){ne(xe(e[23].uri))&&xe(e[23].uri).apply(this,arguments)}),C(Y,"click",function(){ne(et(e[23].uri))&&et(e[23].uri).apply(this,arguments)}),C(V,"click",function(){ne(e[10](e[23].uri))&&e[10](e[23].uri).apply(this,arguments)}),C(t,"dragstart",me),C(t,"drop",Nt(De)),C(t,"dragenter",Te)],le=!0)},p(E,S){e=E,(!ie||S&1)&&a!==(a=e[23].name+"")&&Re(i,a);let X=A;A=ae(e),A!==X&&(Pe(),b(ce[X],1,1,()=>{ce[X]=null}),Ee(),$=ce[A],$||($=ce[A]=be[A](e),$.c()),k($,1),$.m(u,null)),(!ie||S&33)&&_e(c,"is-active",e[5]==e[25]),(!ie||S&17)&&_e(t,"is-active",e[4]===e[25])},r(){ue=t.getBoundingClientRect()},f(){At(t),ke()},a(){ke(),ke=Ct(t,ue,It,{})},i(E){ie||(k($),k(O.$$.fragment,E),k(N.$$.fragment,E),k(g.$$.fragment,E),k(oe.$$.fragment,E),ie=!0)},o(E){b($),b(O.$$.fragment,E),b(N.$$.fragment,E),b(g.$$.fragment,E),b(oe.$$.fragment,E),ie=!1},d(E){E&&d(t),ce[A].d(),M(O),M(N),M(g),M(oe),le=!1,Be(fe)}}}function tl(r){let e,t,l,s;return t=new K({props:{icon:ft,class:"icon is-24",spin:!0}}),{c(){e=h("p"),L(t.$$.fragment),l=x(`
      Loading songs ..`),this.h()},l(a){e=p(a,"P",{class:!0});var i=_(e);U(t.$$.fragment,i),l=ee(i,`
      Loading songs ..`),i.forEach(d),this.h()},h(){o(e,"class","list-item")},m(a,i){j(a,e,i),H(t,e,null),f(e,l),s=!0},p:W,i(a){s||(k(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&d(e),M(t)}}}function ll(r){let e,t,l,s,a,i=r[0].slug.replace("-"," ")+"",m,n,c,u,A,$,B,Q,w,y,O,Z,se,I,N,z,F,Y,g,D,G,V,oe,ve,te,ue,ke,ie,le,fe,be,ce,ae,me,De,Te,E,S,X,$e,Ae;e=new Ht({props:{deletePlaylistConfirmation:r[1],selectedPlaylist:r[0].selectedPlaylist}}),B=new K({props:{icon:bt,class:"icon"}}),O=new K({props:{icon:$t,class:"icon"}});const ye=[Qt,Mt],de=[];function Ce(v,T){return v[2]?0:1}z=Ce(r),F=de[z]=ye[z](r),V=new K({props:{icon:nt,class:"icon is-small"}}),ue=new K({props:{icon:wt,class:"icon is-small"}}),fe=new K({props:{icon:ot,class:"icon is-small"}}),me=new K({props:{icon:it,class:"icon is-small"}});let P=r[3]&&lt(r),J={ctx:r,current:null,token:null,hasCatch:!0,pending:tl,then:Yt,catch:Wt,value:22,error:26,blocks:[,,,]};return qe(r[7],J),{c(){L(e.$$.fragment),t=q(),l=h("div"),s=h("div"),a=h("h1"),m=x(i),n=q(),c=h("div"),u=h("div"),A=h("div"),$=h("a"),L(B.$$.fragment),Q=q(),w=h("div"),y=h("a"),L(O.$$.fragment),Z=q(),se=h("div"),I=h("div"),N=h("div"),F.c(),Y=q(),g=h("div"),D=h("div"),G=h("a"),L(V.$$.fragment),oe=x(`  
                  Play now`),ve=q(),te=h("a"),L(ue.$$.fragment),ke=x(`  
                  Play shuffle`),ie=q(),le=h("a"),L(fe.$$.fragment),be=x(`  
                  Add to queue`),ce=q(),ae=h("a"),L(me.$$.fragment),De=x(`  
                  Delete playlist`),Te=q(),P&&P.c(),E=q(),S=h("div"),J.block.c(),this.h()},l(v){U(e.$$.fragment,v),t=R(v),l=p(v,"DIV",{class:!0});var T=_(l);s=p(T,"DIV",{class:!0});var re=_(s);a=p(re,"H1",{class:!0});var we=_(a);m=ee(we,i),we.forEach(d),re.forEach(d),n=R(T),c=p(T,"DIV",{class:!0});var Le=_(c);u=p(Le,"DIV",{class:!0});var he=_(u);A=p(he,"DIV",{class:!0});var Ue=_(A);$=p(Ue,"A",{class:!0,href:!0});var He=_($);U(B.$$.fragment,He),He.forEach(d),Ue.forEach(d),Q=R(he),w=p(he,"DIV",{class:!0});var Me=_(w);y=p(Me,"A",{href:!0,class:!0});var Qe=_(y);U(O.$$.fragment,Qe),Qe.forEach(d),Me.forEach(d),Z=R(he),se=p(he,"DIV",{class:!0});var ze=_(se);I=p(ze,"DIV",{class:!0});var Ie=_(I);N=p(Ie,"DIV",{class:!0,role:!0,tabindex:!0});var Fe=_(N);F.l(Fe),Fe.forEach(d),Y=R(Ie),g=p(Ie,"DIV",{class:!0,id:!0,role:!0});var Ge=_(g);D=p(Ge,"DIV",{class:!0});var pe=_(D);G=p(pe,"A",{href:!0,class:!0});var Ne=_(G);U(V.$$.fragment,Ne),oe=ee(Ne,`  
                  Play now`),Ne.forEach(d),ve=R(pe),te=p(pe,"A",{href:!0,class:!0});var Se=_(te);U(ue.$$.fragment,Se),ke=ee(Se,`  
                  Play shuffle`),Se.forEach(d),ie=R(pe),le=p(pe,"A",{href:!0,class:!0});var Oe=_(le);U(fe.$$.fragment,Oe),be=ee(Oe,`  
                  Add to queue`),Oe.forEach(d),ce=R(pe),ae=p(pe,"A",{href:!0,class:!0});var je=_(ae);U(me.$$.fragment,je),De=ee(je,`  
                  Delete playlist`),je.forEach(d),pe.forEach(d),Ge.forEach(d),Ie.forEach(d),ze.forEach(d),Te=R(he),P&&P.l(he),he.forEach(d),Le.forEach(d),T.forEach(d),E=R(v),S=p(v,"DIV",{class:!0});var Je=_(S);J.block.l(Je),Je.forEach(d),this.h()},h(){o(a,"class","title"),o(s,"class","column"),o($,"class","button"),o($,"href",jt+"/playlists"),o(A,"class","column"),o(y,"href",null),o(y,"class","button"),o(w,"class","column"),o(N,"class","dropdown-trigger"),o(N,"role","button"),o(N,"tabindex","0"),o(G,"href",null),o(G,"class","dropdown-item"),o(te,"href",null),o(te,"class","dropdown-item"),o(le,"href",null),o(le,"class","dropdown-item"),o(ae,"href",null),o(ae,"class","dropdown-item"),o(D,"class","dropdown-content"),o(g,"class","dropdown-menu"),o(g,"id","dropdown-menu"),o(g,"role","menu"),o(I,"class","dropdown is-right"),_e(I,"is-active",r[2]),o(se,"class","column"),o(u,"class","columns is-mobile"),o(c,"class","column is-narrow"),o(l,"class","columns"),o(S,"class","list is-hoverable")},m(v,T){H(e,v,T),j(v,t,T),j(v,l,T),f(l,s),f(s,a),f(a,m),f(l,n),f(l,c),f(c,u),f(u,A),f(A,$),H(B,$,null),f(u,Q),f(u,w),f(w,y),H(O,y,null),f(u,Z),f(u,se),f(se,I),f(I,N),de[z].m(N,null),f(I,Y),f(I,g),f(g,D),f(D,G),H(V,G,null),f(G,oe),f(D,ve),f(D,te),H(ue,te,null),f(te,ke),f(D,ie),f(D,le),H(fe,le,null),f(le,be),f(D,ce),f(D,ae),H(me,ae,null),f(ae,De),f(u,Te),P&&P.m(u,null),j(v,E,T),j(v,S,T),J.block.m(S,J.anchor=null),J.mount=()=>S,J.anchor=null,X=!0,$e||(Ae=[C(y,"click",r[9]),C(N,"click",r[12]),C(N,"keypress",r[13]),C(G,"click",function(){ne(Ke(r[0].selectedPlaylist.uri))&&Ke(r[0].selectedPlaylist.uri).apply(this,arguments)}),C(te,"click",function(){ne(We(r[0].selectedPlaylist.uri))&&We(r[0].selectedPlaylist.uri).apply(this,arguments)}),C(le,"click",function(){ne(Ye(r[0].selectedPlaylist.uri))&&Ye(r[0].selectedPlaylist.uri).apply(this,arguments)}),C(ae,"click",r[14]),St(Ot.call(null,S)),C(S,"click_outside",r[18])],$e=!0)},p(v,[T]){r=v;const re={};T&2&&(re.deletePlaylistConfirmation=r[1]),T&1&&(re.selectedPlaylist=r[0].selectedPlaylist),e.$set(re),(!X||T&1)&&i!==(i=r[0].slug.replace("-"," ")+"")&&Re(m,i);let we=z;z=Ce(r),z!==we&&(Pe(),b(de[we],1,1,()=>{de[we]=null}),Ee(),F=de[z],F||(F=de[z]=ye[z](r),F.c()),k(F,1),F.m(N,null)),(!X||T&4)&&_e(I,"is-active",r[2]),r[3]?P?(P.p(r,T),T&8&&k(P,1)):(P=lt(r),P.c(),k(P,1),P.m(u,null)):P&&(Pe(),b(P,1,1,()=>{P=null}),Ee()),dt(J,r,T)},i(v){X||(k(e.$$.fragment,v),k(B.$$.fragment,v),k(O.$$.fragment,v),k(F),k(V.$$.fragment,v),k(ue.$$.fragment,v),k(fe.$$.fragment,v),k(me.$$.fragment,v),k(P),k(J.block),X=!0)},o(v){b(e.$$.fragment,v),b(B.$$.fragment,v),b(O.$$.fragment,v),b(F),b(V.$$.fragment,v),b(ue.$$.fragment,v),b(fe.$$.fragment,v),b(me.$$.fragment,v),b(P);for(let T=0;T<3;T+=1){const re=J.blocks[T];b(re)}X=!1},d(v){v&&(d(t),d(l),d(E),d(S)),M(e,v),M(B),M(O),de[z].d(),M(V),M(ue),M(fe),M(me),P&&P.d(),J.block.d(),J.token=null,J=null,$e=!1,Be(Ae)}}}function sl(r,e){r.dataTransfer.effectAllowed="move",r.dataTransfer.dropEffect="move";let t=e;r.dataTransfer.setData("text/plain",t)}function al(r,e,t){let l;_t(r,rt,g=>t(19,l=g));let{data:s}=e,a=!1,i=!1,m,n=!1,c,u;const A=g=>c?g[c]:g;let $;function B(g,D){g.dataTransfer.dropEffect="move";let G=g.dataTransfer.getData("text/plain"),V=s.playlistsTracks.tracks;V[D]=V.splice(G,1,V[D])[0],t(0,s.playlistsTracks.tracks=V,s),t(4,n=null)}async function Q(){return!!await l.playlists.save({playlist:s.playlistsTracks})}function w(){t(3,m=Q())}function y(g){let D=s.playlistsTracks.tracks;D=D.filter(G=>G.uri!=g),t(0,s.playlistsTracks.tracks=D,s)}const O=g=>{u===g?t(5,u=null):t(5,u=g)},Z=()=>t(2,i=!i),se=()=>t(2,i=!i),I=()=>t(1,a=!a),N=(g,D)=>sl(D,g),z=(g,D)=>B(D,g),F=g=>t(4,n=g),Y=()=>t(5,u=null);return r.$$set=g=>{"data"in g&&t(0,s=g.data)},[s,a,i,m,n,u,A,$,B,w,y,O,Z,se,I,N,z,F,Y]}class hl extends mt{constructor(e){super(),ht(this,e,al,ll,pt,{data:0})}}export{hl as component,ml as universal};
