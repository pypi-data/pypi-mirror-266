import{b8 as h,d as g,x as v,D as x,Y as D,an as S,e as k,u as e,c as F,g as m,a as N,h as I,a1 as B,o as J,l as p,b9 as O,ba as P,bb as T,bc as V,ae as d,b5 as i,b7 as M}from"./index-BK3LTUv3.js";import{u as U}from"./usePageTitle-D12lhMNb.js";class Y extends h{parse(t){return JSON.parse(decodeURIComponent(t??""))}format(t){return encodeURIComponent(JSON.stringify(t))}}const $=g({__name:"FlowRunCreate",setup(y){const t=v(),r=x("deploymentId"),l=B(),f=D("parameters",Y,void 0),{deployment:o}=S(r),R=async c=>{var u,a;try{const n=await t.deployments.createDeploymentFlowRunV2(r.value,c),s=((a=(u=c.state)==null?void 0:u.stateDetails)==null?void 0:a.scheduledTime)??void 0,C=!s,b=T(V,{flowRun:n,flowRunRoute:d.flowRun,router:l,immediate:C,startTime:s});i(b,"success"),l.push(d.deployment(r.value))}catch(n){const s=M(n,"Something went wrong trying to create a flow run");i(s,"error"),console.error(n)}},w=()=>{l.back()},_=k(()=>o.value?`Create Flow Run for Deployment: ${o.value.name}`:"Create Flow Run for Deployment");return U(_),(c,u)=>{const a=I("p-layout-default");return e(o)?(J(),F(a,{key:0},{header:m(()=>[p(e(O),{deployment:e(o)},null,8,["deployment"])]),default:m(()=>[p(e(P),{deployment:e(o),parameters:e(f),onSubmit:R,onCancel:w},null,8,["deployment","parameters"])]),_:1})):N("",!0)}}});export{$ as default};
//# sourceMappingURL=FlowRunCreate-Btgb5WPl.js.map
