<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Development guidelines for Test Repository &#8212; Test Repository  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css?v=601dbdee" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Design / Architecture of Test Repository" href="DESIGN.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="DESIGN.html" title="Design / Architecture of Test Repository"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Test Repository  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Development guidelines for Test Repository</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="development-guidelines-for-test-repository">
<h1>Development guidelines for Test Repository<a class="headerlink" href="#development-guidelines-for-test-repository" title="Link to this heading">¶</a></h1>
<section id="coding-style">
<h2>Coding style<a class="headerlink" href="#coding-style" title="Link to this heading">¶</a></h2>
<p>PEP-8 please. We don’t enforce a particular style, but being reasonably
consistent aids readability.</p>
</section>
<section id="copyrights-and-licensing">
<h2>Copyrights and licensing<a class="headerlink" href="#copyrights-and-licensing" title="Link to this heading">¶</a></h2>
<p>Code committed to Test Repository must be licensed under the BSD + Apache-2.0
licences that Test Repository offers its users. Copyright assignment is not
required. Please see COPYING for details about how to make a license grant in
a given source file. Lastly, all copyright holders need to add their name
to the master list in COPYING the first time they make a change in a given
calendar year.</p>
</section>
<section id="testing-and-qa">
<h2>Testing and QA<a class="headerlink" href="#testing-and-qa" title="Link to this heading">¶</a></h2>
<p>For Test repository please add tests where possible. There is no requirement
for one test per change (because somethings are much harder to automatically
test than the benfit from such tests). Fast tests are preferred to slow tests,
and understandable tests to fast tests.</p>
<p><a class="reference external" href="http://build.robertcollins.net/">http://build.robertcollins.net/</a> has a job testing every commit made to trunk
of Test Repository, and there is no automated test-before-merge process at the
moment. The quid pro quo for committers is that they should check that the
automated job found their change acceptable after merging it, and either roll
it back or fix it immediately. A broken trunk is not acceptable!</p>
<p>See DESIGN.txt for information about code layout which will help you find
where to add tests (and indeed where to change things).</p>
<section id="running-the-tests">
<h3>Running the tests<a class="headerlink" href="#running-the-tests" title="Link to this heading">¶</a></h3>
<p>Generally just <code class="docutils literal notranslate"><span class="pre">make</span></code> is all that is needed to run all the tests. However
if dropping into pdb, it is currently more convenient to use
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">testtools.run</span> <span class="pre">testrepository.tests.test_suite</span></code>.</p>
</section>
<section id="diagnosing-issues">
<h3>Diagnosing issues<a class="headerlink" href="#diagnosing-issues" title="Link to this heading">¶</a></h3>
<p>The cli UI will drop into pdb when an error is thrown if TESTR_PDB is set in
the environment. This can be very useful for diagnosing problems.</p>
</section>
<section id="releasing">
<h3>Releasing<a class="headerlink" href="#releasing" title="Link to this heading">¶</a></h3>
<p>Update NEWS and testrepository/__init__.py version numbers. Release to pypi.
Pivot the next milestone on LP to version, and make a new next milestone.
Make a new tag and push that to github.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Development guidelines for Test Repository</a><ul>
<li><a class="reference internal" href="#coding-style">Coding style</a></li>
<li><a class="reference internal" href="#copyrights-and-licensing">Copyrights and licensing</a></li>
<li><a class="reference internal" href="#testing-and-qa">Testing and QA</a><ul>
<li><a class="reference internal" href="#running-the-tests">Running the tests</a></li>
<li><a class="reference internal" href="#diagnosing-issues">Diagnosing issues</a></li>
<li><a class="reference internal" href="#releasing">Releasing</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="DESIGN.html"
                          title="previous chapter">Design / Architecture of Test Repository</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/DEVELOPERS.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="DESIGN.html" title="Design / Architecture of Test Repository"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Test Repository  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Development guidelines for Test Repository</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2012, Testrepository Contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>